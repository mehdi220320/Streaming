<div class="container">
  <div class="header">
    <i class="fa-solid fa-clapperboard"></i>
    <h1>Add New Serie TV</h1>
  </div>
  <div *ngIf="errorMessage" class="alert alert-danger">
    {{ errorMessage }}
  </div>
  <form id="movieForm" #ngForm="ngForm" (ngSubmit)="onRegister()">
    <div class="form-row">
      <div class="form-col">
        <div class="form-group">
          <label for="title">Movie Title*</label>
          <input type="text" id="title" name="title" required placeholder="Enter movie title" [(ngModel)]="serie.title" required>
        </div>
      </div>
      <div class="form-col">
        <div class="form-group">
          <label for="studio">Studio/Production*</label>
          <input type="text" id="studio" name="studio" required placeholder="Enter studio name" [(ngModel)]="serie.studio" required>
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="description">Description*</label>
      <textarea id="description" name="description" required placeholder="Enter movie description" [(ngModel)]="serie.description"></textarea>
    </div>

    <div class="form-row">
      <div class="form-col">
        <div class="form-group">
          <label for="releaseDate">Release Date*</label>
          <input type="date" id="releaseDate" name="releaseDate" [(ngModel)]="serie.releaseDate" >
        </div>
      </div>
      <div class="form-col">
        <div class="form-group">
          <label for="nbepisodes">Number of episodes*</label>
          <input type="number" id="nbepisodes" name="number_Of_episodes" [(ngModel)]="serie.number_Of_episodes" required placeholder="24">
        </div>
      </div>
    </div>

    <div class="form-group">
      <label for="genre">Genre*</label>
      <select id="genre" name="genre" [(ngModel)]="serie.genre" required>
        <option value="" disabled selected>Select genre</option>
        <option value="action">Action</option>
        <option value="comedy">Comedy</option>
        <option value="drama">Drama</option>
        <option value="sci-fi">Sci-Fi</option>
        <option value="horror">Horror</option>
        <option value="romance">Romance</option>
        <option value="animation">Animation</option>
      </select>
    </div>

    <div class="form-group">
      <label>Thumbnail Image*</label>
      <div class="file-upload">
        <div *ngIf="!imagePreview; else previewBlock" class="file-upload-btn" (click)="fileInput.click()">
          <i class="fas fa-cloud-upload-alt" style="font-size: 2rem; color: var(--primary); margin-bottom: 1rem;"></i>
          <p>Drag & drop the cover image here or click to browse</p>
          <span class="file-upload-label">Recommended size: 800x1200px (JPG, PNG)</span>
        </div>
        <ng-template #previewBlock>
          <p>Drag & drop to change the cover image here or click to browse</p>

          <div class="thumbnail-preview-container">
            <img [src]="imagePreview" class="thumbnail-preview" alt="Thumbnail preview">
          </div>
        </ng-template>

        <input #fileInput type="file" id="thumbnail" (change)="onFileSelected($event)" accept="image/*" class="file-upload-input" required>
      </div>
    </div>

    <div class="form-group">
      <label>Trailer Video</label>
      <div class="file-upload">
        <div class="file-upload-btn">
          <i class="fas fa-video" style="font-size: 2rem; color: var(--primary); margin-bottom: 1rem;"></i>
          <p>Upload trailer video (optional)</p>
          <span class="file-upload-label">MP4 format recommended</span>
        </div>
        <input type="file" id="trailer" name="trailer" accept="video/*" class="file-upload-input">
      </div>
    </div>

    <div class="form-group">
      <button type="submit" class="btn btn-block">
        <i class="fas fa-save"></i> Save Movie
      </button>
    </div>
  </form>
</div>

